<route-settings
    title="Message"
    backbutton="true"
    navbar="false"
    titlebar="true"
></route-settings>

<style>
    .chat-container {
        display: flex;
        flex-direction: column;
        height: 100%;
    }

    .message-list {
        flex: 1;
        overflow-y: auto;
        display: flex;
        flex-direction: column-reverse;
    }

    .message-timestamp {
        flex: 0 1 auto;
        white-space: nowrap;
        color: rgb(var(--mdui-color-on-surface-variant));
        font-size: var(--mdui-typescale-body-small-size);
        font-weight: var(--mdui-typescale-body-medium-weight);
        letter-spacing: var(--mdui-typescale-body-medium-tracking);
        line-height: var(--mdui-typescale-body-medium-line-height);
    }

    .message-content {
        color: rgb(var(--mdui-color-on-surface-variant));
    }
    
    .input-bar {
        bottom: 0;
        background: var(--mdui-color-background);
        padding: 0.5rem;
    }
    
    .message-content {
        white-space: pre-wrap;
        word-wrap: break-word;
        overflow-wrap: anywhere;
        font-size: var(--mdui-typescale-body-large-size);
    }
    
    .message {
        padding-top: 0.25rem;
        padding-bottom: 0.25rem;
        margin-top: 0.5rem;
        margin-bottom: 0.5rem;

        display: flex;
        align-items: flex-start;
        flex-wrap: wrap; 
    }
    
    .contact-name {
        font-size: large;
        font-weight: 500;
        color: rgb(var(--mdui-color-on-surface));
    }
</style>

<template id="messageTemplate">
    <mdui-list-item alignment="start" class="message">
        <mdui-avatar id="contactAvatar" slot="icon"></mdui-avatar>
        <span id="contactName" class="contact-name"></span>
        <span style="margin-left: 0.25rem;"></span>
        <time-stamp id="messageTimeStamp" class="message-timestamp" type="datetime"></time-stamp>
        <span id="messageContent" class="message-content" slot="description"></span>
    </mdui-list-item>
</template>

<div class="chat-container">
    <div class="message-list">
        <mdui-list id="messageList" class="hidden"></mdui-list>
    </div>

    <div id="emptyMessage" class="pageNotice">
        <span>No messages</span>
        <span>Remeber both of you have to be added as a contact.</span>
    </div>

    <div class="input-bar">
        <mdui-text-field
            id="messageTextFeild"
            autosize
            placeholder="Direct message..."
            maxlength="128"
            counter variant="outlined"
            radio-only
        >
            <mdui-button-icon disabled slot="icon" icon="add"></mdui-button-icon>
            <mdui-button-icon id="sendButton" slot="end-icon" icon="send"></mdui-button-icon>
        </mdui-text-field>
    </div>
</div>